(function(a,d){function f(e){return(e+"").replace(/[&<>'"]/g,function(b){return"&#"+b.charCodeAt()+";"})}function i(e,b,a){var b=b.replace(g,"[PROJECT ROOT]"),c={KEY:h,MESSAGE:e,URL:d.href,USER_AGENT:navigator.userAgent,REFERER:document.referrer,ROOT:g,BACKTRACE:'<line method="" file="'+f(b)+'" number="'+f(a)+'" />'};return j.replace(/#{(.+?)}/g,function(b,a){return c[a]})}var c=d.protocol,g=c+"//"+d.host,h=a.AIRBRAKE_API_KEY,k=c+"//hoptoadapp.com/notifier_api/v2/notices?data=",j='<?xml version="1.0" encoding="UTF-8"?><notice version="2.0"><api-key>#{KEY}</api-key><notifier><name>hoptoad_notifier_js</name><version>0.1.0</version><url>http://hoptoadapp.com</url></notifier><error><class>Error</class><message>#{MESSAGE}</message><backtrace>#{BACKTRACE}</backtrace></error><request><component>frontend</component><action>javascript</action><url>#{URL}</url><cgi-data><var key="HTTP_USER_AGENT">#{USER_AGENT}</var><var key="HTTP_REFERER">#{REFERER}</var></cgi-data></request><server-environment><project-root>#{ROOT}</project-root><environment-name>production</environment-name></server-environment></notice>';
a.onerror=(a.Airbrake={}).notify=function(a,b,c){if(h)(new Image).src=k+escape(i(a,b,c))}})(this,location);